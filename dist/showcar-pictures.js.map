{"version":3,"sources":["../src/showcar-pictures.js"],"names":[],"mappings":"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","file":"showcar-pictures.js","sourcesContent":["/**\n * Add a class to the given DOM element.\n * @param {string} className\n * @param {HTMLElement} element\n * @returns {HTMLElement}\n * ToDo: v3 -> Move to ui utils library.\n */\nfunction addClass(className, element) {\n  if (!element.getAttribute) return element;\n\n  let classList = [], classesString = element.getAttribute('class');\n  if (classesString) {\n    classList = classesString.split(' ');\n    if (classList.indexOf(className) === -1) {\n      classesString = classList.concat(className).join(' ');\n    }\n  } else {\n    classesString = className\n  }\n  element.setAttribute('class', classesString);\n  return element;\n}\n\n/**\n * Remove a class from the given DOM element.\n * @param {string} className\n * @param {HTMLElement} element\n * @returns {HTMLElement}\n * ToDo: v3 -> Move to ui utils library.\n */\nfunction removeClass(className, element) {\n  if (!element.getAttribute) return element;\n\n  let classList = [], classesString = element.getAttribute('class');\n  if (classesString) {\n    classList = classesString.split(' ');\n    if(classList.indexOf(className) !== -1){\n      classList.splice(classList.indexOf(className), 1);\n    }\n    element.setAttribute('class', classList.join(' '));\n  }\n  return element;\n}\n\n/**\n * Check if the given DOM element has a class.\n * @param {string} className\n * @param {HTMLElement} element\n * @returns {boolean}\n * ToDo: v3 -> Move to ui utils library.\n */\nfunction containsClass(className, element) {\n  if (!element.getAttribute) return false;\n\n  let classList = [], classesString = element.getAttribute('class');\n  if (classesString) {\n    classList = classesString.split(' ');\n  }\n  return classList.indexOf(className) > -1;\n}\n\n/**\n * Toggles the class for the dom element\n * @param {string} className\n * @param {Element} domElement\n * @returns {Element}\n * ToDo: Move to ui utils library\n */\nfunction toggleClass(className, domElement) {\n  if (containsClass(className, domElement)) {\n    return removeClass(className, domElement);\n  } else {\n    return addClass(className, domElement);\n  }\n}\n\n// ToDo: Load larger images (data-src-large?)\nclass Pictures {\n\n  /** @constructor */\n  constructor(element) {\n    this.element = element;\n    this.resizeListener = null;\n    this.thumbnailsVisible = false;\n  }\n\n  /**\n   * Adds all handlers for the thumbnails carousel\n   */\n  addThumbnails() {\n    this.thumbnailsItems = this.thumbnails.querySelectorAll('.as24-carousel-item');\n    if(!this.thumbnailsItems) return;\n    addClass('active', this.thumbnailsItems[0]);\n    [].forEach.call(this.thumbnailsItems, (element, index) => {\n      element.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.slider.goTo(index);\n      })\n    });\n  }\n\n  /**\n   * Adds all handlers for the slider carousel\n   */\n  addSlider() {\n    this.slider.addEventListener('slide', (e) => {\n      let index = e.detail.index;\n      if(!this.thumbnails) return;\n      let goTo = index > this.thumbnails.getStepLength() ? this.thumbnails.getStepLength() : index;\n      this.thumbnails.goTo(goTo);\n      [].forEach.call(this.thumbnailsItems, element => removeClass('active', element));\n      addClass('active', this.thumbnailsItems[index]);\n    });\n  }\n\n  /**\n   * Adds all handlers for full screen view\n   */\n  addFullScreen() {\n    this.fullScreen.addEventListener('click', e => {\n      let index = parseInt(this.slider.getIndex());\n      e.preventDefault();\n\n      toggleClass('fullScreen', this.element);\n      let isFullScreen = containsClass('fullScreen', this.element);\n      this.slider.setAttribute('preview',String(!isFullScreen));\n      this.setThumbnailMouseListeners(!isFullScreen);\n\n      [].forEach.call(this.container, element => addClass('no-transition', element));\n      this.slider.redraw();\n      this.slider.goTo(index);\n      this.thumbnails.redraw();\n      this.thumbnails.goTo(index);\n      [].forEach.call(this.container, element => removeClass('no-transition', element));\n\n      this.redraw();\n    });\n  }\n\n  /**\n   * Initializes the pictures by adding all necessary bits and bolts.\n   */\n  attached() {\n    this.addContainer();\n\n    // Slider\n    this.slider = this.element.querySelector('.as24-pictures-slider');\n    if(this.slider) this.addSlider();\n\n    // Thumbnails\n    this.thumbnails = this.element.querySelector('.as24-pictures-thumbnails');\n    if(this.thumbnails) this.addThumbnails();\n\n    // FullScreen\n    this.fullScreen = this.element.querySelector('.as24-pictures-fullScreen');\n    if(this.fullScreen) this.addFullScreen();\n\n    this.resizeListener = this.resizeTimeoutHandler.bind(this);\n\n    // Add Listeners.\n    window.addEventListener('resize', this.resizeListener, true);\n    this.setThumbnailMouseListeners(true);\n\n    this.redraw();\n  }\n\n  /**\n   * Cleans up the pictures.\n   */\n  detached(){\n    window.removeEventListener('resize', this.resizeListener, true);\n    this.setThumbnailMouseListeners(false);\n  }\n\n  /**\n   * Add or remove thumbnail mouse listeners\n   */\n  setThumbnailMouseListeners(state){\n    if(state){\n      this.setThumbnailMouseListeners(false);\n      this.mouseMoveListener = this.mouseMoveHandler.bind(this);\n      this.mouseLeaveListener = this.mouseLeaveHandler.bind(this);\n      this.element.addEventListener('mousemove', this.mouseMoveListener, true);\n      this.element.addEventListener('mouseleave', this.mouseLeaveListener, true);\n    } else {\n      this.element.removeEventListener('mousemove', this.mouseMoveListener,  true);\n      this.element.removeEventListener('mouseleave', this.mouseLeaveListener, true);\n      this.setThumbnailVisibility(false);\n    }\n  }\n\n  /**\n   * Wraps all the pictures items in a container.\n   */\n  addContainer() {\n\n    if (containsClass('as24-pictures-wrapper', this.element.firstChild)){\n      this.wrapper = this.element.querySelector('.as24-pictures-wrapper');\n      this.container = this.element.querySelector('.as24-pictures-container');\n      return;\n    }\n\n    this.wrapper = document.createElement('div');\n    addClass('as24-pictures-wrapper', this.wrapper);\n\n    this.container = document.createElement('div');\n    addClass('as24-pictures-container', this.container);\n\n    [].forEach.call(this.element.children, element => {\n      let item = element.cloneNode(true);\n      this.container.appendChild(item);\n    });\n\n    this.wrapper.appendChild(this.container);\n    this.element.innerHTML = '';\n    this.element.appendChild(this.wrapper);\n\n\n\n    // let fragment = document.createDocumentFragment();\n    // let container = addClass('as24-pictures-container', document.createElement('div'));\n    //\n    // while(this.element.firstChild) {\n    //   fragment.appendChild(this.element.firstChild.cloneNode(true));\n    //   this.element.removeChild(this.element.firstChild);\n    // }\n    // container.appendChild(fragment);\n    // this.element.appendChild(container);\n    // this.container = this.element.firstChild;\n  }\n\n  /**\n   * Mouse move handler for the thumbnail visibility state.\n   */\n  mouseMoveHandler(event){\n    let sliderSize = this.getElementSize(this.slider);\n    let tolerance = 60;\n    let thumbnailsHeight = this.thumbnails.offsetHeight + tolerance;\n    if(event.clientY >= sliderSize.height - thumbnailsHeight &&\n       event.clientY <= sliderSize.height){\n      this.setThumbnailVisibility(true);\n    } else if(event.clientY < sliderSize.height - thumbnailsHeight &&\n              event.clientY >= 0) {\n      this.setThumbnailVisibility(false);\n    }\n  }\n\n  /**\n   * Mouse leave handler for the thumbnail visibility state.\n   */\n  mouseLeaveHandler(){\n    this.setThumbnailVisibility(false);\n  }\n\n  /**\n   * Animates the thumbnail view position according its state.\n   */\n  setThumbnailVisibility(state = false){\n    if(this.thumbnailsVisible === state) return;\n\n    this.thumbnailsVisible = state;\n    let thumbnailHeight = this.thumbnails.offsetHeight;\n    let distance = state ? thumbnailHeight : 0;\n\n    distance = ~distance + 1;\n    this.move({\n      element: this.thumbnails,\n      y: distance\n    });\n\n    let indicator = this.element.querySelector('.as24-pagination-indicator');\n    if(indicator){\n      this.move({\n        element: indicator,\n        y: distance\n      });\n    }\n  }\n\n  /**\n   * Takes care of the pictures sizing.\n   * @public\n   */\n  redraw() {\n    let isFullScreen = containsClass('fullScreen', this.element);\n    if(isFullScreen) return;\n    let sliderSize = this.getElementSize(this.slider);\n    // avoids the thumbnail view on small sizes\n    if(sliderSize.width <= 480){\n      this.setThumbnailMouseListeners(false);\n    } else {\n      this.setThumbnailMouseListeners(true);\n    }\n  }\n\n  /**\n   * Moves the element by the given distance.\n   * @param {Object} options - the values for moving an element.\n   * @param {HTMLElement} element.\n   */\n  move(options = {element: this.element, x: 0, y: 0}){\n    let {element: element = this.element, x: x = 0, y: y = 0} = options;\n    element.style.transform =       `translate3d(${x}px, ${y}px, 0)`;\n    element.style.webkitTransform = `translate3d(${x}px, ${y}px. 0)`;\n  }\n\n  /**\n   * Checks if the window width has changed and starts the redraw process.\n   */\n  resizeHandler() {\n    let currentWindowWidth = this.getWindowWidth();\n    if (this.windowWidth !== currentWindowWidth) {\n      this.windowWidth = currentWindowWidth;\n      this.redraw();\n    }\n  }\n\n  /**\n   * Resize timeout call blocker.\n   */\n  resizeTimeoutHandler(){\n    // ToDo: v3 -> Uncomment the following two lines and remove the last one if there is a need for an resize maniac execution blocker.\n    // clearTimeout(this.resizeTimeout);\n    // this.resizeTimeout = setTimeout(this.resizeHandler.bind(this), 300);\n    this.resizeHandler();\n  }\n\n  /**\n   * gets the current client height.\n   * @returns {Number} the width.\n   */\n  getWindowWidth() {\n    return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  }\n\n  /**\n   * Get the element width and height without padding.\n   * @param {HTMLElement} element - the element from whom to get the width and height off.\n   * @return {Object}\n   */\n  getElementSize(element = this.element) {\n    let computed = getComputedStyle(element);\n\n    let width = element.offsetWidth;\n    width -= parseFloat(computed.paddingLeft) + parseFloat(computed.paddingRight);\n\n    let height = element.offsetHeight;\n    height -= parseFloat(computed.paddingTop) + parseFloat(computed.paddingBottom);\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n}\n\n\n(function(){\n  /**\n   * Gets called after the element is created.\n   */\n  let elementCreatedHandler = function() {\n    this.pictures = new Pictures(this);\n  };\n\n  /**\n   * Gets called when the element is attached to the dom.\n   */\n  let elementAttachedHandler = function() {\n    this.pictures.attached();\n  };\n\n  /**\n   * Handler for detachment of the element from the dom.\n   */\n  let elementDetachedCallback = function() {\n    this.carousel.detached();\n    delete this.carousel;\n  };\n\n  /**\n   * Try to register the pictures component.\n   */\n  try {\n    document.registerElement('as24-pictures', {\n      prototype: Object.assign(\n        Object.create( HTMLElement.prototype, {\n          createdCallback:  { value: elementCreatedHandler },\n          attachedCallback: { value: elementAttachedHandler },\n          detachedCallback: { value: elementDetachedCallback },\n        })\n      )\n    });\n  } catch (e) {\n    if (window && window.console) {\n      window.console.warn('Failed to register CustomElement \"as24-pictures\".', e);\n    }\n  }\n})();\n"]}