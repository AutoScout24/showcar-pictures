$thumbsPadding: 7px;
$thumbWidth: 100px;
$thumbsHeight: (($thumbWidth * 75) / 100) + ($thumbsPadding * 2);

$animationTime: .3s;

@import "npm:showcar-ui/src/scss/mixins/fonts.scss";
@import "npm:showcar-ui/src/scss/variables.scss";

%animated {
  transition: transform $animationTime;
  perspective: 1000px;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}

%column {
  display: flex;
  flex-direction: column;
}

$component: as24-pictures;

.#{$component} {
  box-sizing: border-box;
  width: 100%;
  background: rgba(0,0,0,.5);
  display: block;
  position: relative;
  overflow: hidden;

  &__header,
  &__info {
    display: none;
  }

  .no-transition {
    transition: none !important;
  }

  @at-root &__slider-container {
    @extend %column;
    flex: 1;
    position: relative;
  }

  @at-root &__image {
    max-height: 100%;
    object-fit: contain;
    margin: 0 auto;
    align-self: center;
  }

  .as24-pagination-indicator {
    @extend %animated;
    text-rendering: geometricPrecision;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    bottom: 0;

    &--upped {
      transform: translate3d(0, -$thumbsHeight, 0);
    }

  }

  @at-root &__thumbnails {
    @extend %animated;
    position: absolute;
    bottom: 0;
    left: 0;
    padding: $thumbsPadding;
    width: 100%;
    background: rgba(0,0,0,0.5);
    transform: translate3d(0, 100%, 0);

    &--visible {
      transform: translate3d(0, 0, 0);
    }

    .as24-carousel-wrapper {
      overflow: visible;
    }

    .as24-pagination {
      width: 35px;
      height: 75px;
      margin-top: 0;
      top: 7px;
      background-size: 50%;
      background-position: center;

      &[data-direction="left"] {
        left: 0;
      }

      &[data-direction="right"] {
        right: 0;
      }

    }

    .as24-carousel-item {
      width: $thumbWidth;
      height: 75px;
      flex: 0 0 $thumbWidth;
      position: relative;
      margin: 0 2px;
      cursor: pointer;

      @media screen and (min-width: 320px) {
        margin: 0 2px;
      }

      &:first-child {
        margin-left: 0;
      }

      &:last-child {
        margin-right: 0;
      }

      &:after {
        position: absolute;
        content: '';
        top: -2px;
        left: -2px;
        width: calc(100% + 4px);
        height: calc(100% + 4px);
      }

      &.active:after {
        border: 2px solid #ff7500;
      }

    }

    .as24-pagination-button {
      width: 40px;
      height: 100%;

      &[data-direction="right"]{
        right: 0;
      }
      &[data-direction="left"]{
        left: 0;
      }

      &.hide {
        z-index: -1;
      }
    }
  }

  @at-root &__fullscreen-close {
    cursor: pointer;
    color: #fff;
    align-items: center;
    padding: 1px 0 0 35px;
    margin: 12px 0 0 30px;
    position: relative;
    &:after,
    &:before {
      content: '';
      display: block;
      width: 27px;
      height: 0;
      position: absolute;
      left: 0;
      top: 0;
      border-top: solid 2px #fff;
    }

    &:before {
      transform: translateY(10px) rotate(45deg);
    }

    &:after {
      transform: translateY(10px) rotate(135deg);
    }
  }

  as24-carousel {

    .as24-carousel-item {
      border: none;
      cursor: pointer;
    }

  }

  @at-root &--fullscreen {
    background-color: rgba(0,0,0,0.9);
    display: flex;
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    z-index: 10000;

    .#{$component} {

      &__container,
      &__wrapper {
        @extend %column;
        height: 100%;
        width: 100%;
      }

      &__content {
        display: flex;
        flex: 1 0 auto;
      }

      &__wrapper {
        padding: $XXL;
      }

      &__header {
        @extend %column;
        margin-bottom: $XL;

        &-line {
          display: flex;
          flex: 1 0 auto;
        }
      }

      &__picture-title,
      &__picture-subtitle {
        color: white;
      }

      &__picture-title {
        @include font(XXL, false);
        flex: 1;
        margin-bottom: 4px;
      }

      &__picture-subtitle {
        @include font(M, false);
      }

      &__slider {
        flex: 1 0 auto;

        .as24-carousel-item {
          max-width: none;
        }

        .as24-carousel-container {
          height: auto;
        }

        &[mode=slider].dynamic-ratio .as24-pagination-button {
          height: 60px;
        }
      }

      &__thumbnails {
        position: relative;
        background: none;
        transform: translate3d(0, 0, 0);
        flex: 0 0 auto;

        &--upped {
          transform: translate3d(0, 0, 0);
        }

        .as24-carousel-container {
          display: flex;
          justify-content: center;
        }
      }

      &__info {
        @extend %column;
        flex: 0 0 330px;
        margin-left: 16px;
      }

    }

    .as24-pagination-indicator {
      &--upped {
        transform: translate3d(0, 0, 0) !important;
      }
    }

    as24-carousel {
      &[mode="slider"].dynamic-ratio .as24-carousel-wrapper {
        height: auto;
        padding-bottom: inherit;
        overflow: initial;
      }
    }

  }
}
