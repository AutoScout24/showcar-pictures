!function(){function t(t,i){if(!i.getAttribute)return i;var e=[],n=i.getAttribute("class");return n?(e=n.split(" "),e.indexOf(t)===-1&&(n=e.concat(t).join(" "))):n=t,i.setAttribute("class",n),i}function i(t,i){if(!i.getAttribute)return i;var e=[],n=i.getAttribute("class");return n&&(e=n.split(" "),e.indexOf(t)!==-1&&e.splice(e.indexOf(t),1),i.setAttribute("class",e.join(" "))),i}function e(t,i){if(!i.getAttribute)return!1;var e=[],n=i.getAttribute("class");return n&&(e=n.split(" ")),e.indexOf(t)>-1}!function(){function t(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),e}return"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,void(window.CustomEvent=t))}(),function(){"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var i=1;i<arguments.length;i++){var e=arguments[i];if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t})}(),function(){Array.of||(Array.of=function(){return Array.prototype.slice.call(arguments)})}();var n=function(){function t(t,i){this.x=t,this.y=i}return t}(),s=function(){function s(t,i){this.config=null,this.element=null,this.container=null,this.wrapper=null,this.stepLength=null,this.role="unspecified-role",this.resizeListener=null,this.touchStartListener=null,this.touchMoveListener=null,this.touchEndListener=null,this.imgSrcDataAttrName="data-src",this.windowWidth=0,this.orgWidth=0,this.Enums={Direction:{LEFT:"left",RIGHT:"right"},Speed:{SLOW:"slow",FAST:"fast"},Mode:{DEFAULT:"default",SLIDER:"slider"}},this.pagination={left:null,right:null,indicator:null},this.stepWidth=null,this.totalReach=null,this.index=0,this.lastIndex=0,this.refWidth=330,this.itemWidth=330,this.itemsVisible=0,this.itemsLength=1,this.speed=null,this.time=null,this.touchStart=new n(0,0),this.config=i,this.element=t,this.speed=this.Enums.Speed.SLOW,this.role=this.element.getAttribute("role")}return s.prototype.items=function(){return this.element.querySelectorAll(".as24-carousel-item")},s.prototype.attached=function(){this.windowWidth=this.getWindowWidth(),this.resizeListener=this.resizeTimeoutHandler.bind(this),this.touchStartListener=this.touchStartEventHandler.bind(this),this.touchMoveListener=this.touchMoveEventHandler.bind(this),this.touchEndListener=this.touchEndEventHandler.bind(this),window.addEventListener("resize",this.resizeListener,!0),this.element.addEventListener("touchstart",this.touchStartListener,!0),this.element.addEventListener("touchmove",this.touchMoveListener,!0),this.element.addEventListener("touchend",this.touchEndListener,!0),this.addContainer(),this.addPagination(),this.addIndicator(),this.redraw("data-src")},s.prototype.detached=function(){window.removeEventListener("resize",this.resizeListener,!0),this.element.removeEventListener("touchstart",this.touchStartListener,!0),this.element.removeEventListener("touchmove",this.touchMoveListener,!0),this.element.removeEventListener("touchend",this.touchEndListener,!0),this.removeContainer(),this.removePagination(),this.removeIndicator()},s.prototype.redraw=function(t){void 0===t&&(t=""),this.imgSrcDataAttrName=t,this.resizeItems(),this.calculateEnvironment(),this.config.mode===this.Enums.Mode.DEFAULT?(this.index=0,this.updateDefault()):this.config.mode===this.Enums.Mode.SLIDER&&this.updateSlider({transition:!1}),this.updateIndicator()},s.prototype.resizeItems=function(){var e=this;if(this.config.mode===this.Enums.Mode.SLIDER&&this.config.preview&&this.getElementWidth()>this.config.previewBreakpoint?t("dynamic-ratio",this.element):i("dynamic-ratio",this.element),this.orgWidth=this.items()[0].getBoundingClientRect().width+this.config.gap,this.orgWidth===this.refWidth&&this.getElementWidth()<this.refWidth?(this.itemWidth=this.getElementWidth()-this.config.gap,[].forEach.call(this.items(),function(t){return t.style.width=e.itemWidth-e.config.gap+"px"})):0===this.orgWidth?this.itemWidth=640+this.config.gap:this.itemWidth=this.items()[0].getBoundingClientRect().width+this.config.gap,this.config.mode===this.Enums.Mode.SLIDER){var n=40,s=null;if(this.getElementWidth()>this.config.previewBreakpoint&&this.config.preview){var o=(this.getElementWidth()-this.itemWidth)/2;n=o>40?Math.ceil(o):40,s=n+"px"}var r=this.element.querySelectorAll("[data-direction]");[].forEach.call(r,function(t){t.style.width=n+"px"}),this.config.indicator&&(this.pagination.indicator.style.left=s)}},s.prototype.touchStartEventHandler=function(t){this.resetTouch(),e("as24-pagination-button",t.target)||(this.touchStart=this.getTouchCoords(t))},s.prototype.touchMoveEventHandler=function(t){if(this.isSwiping()){var i=this.getTouchCoords(t),e=Math.abs(i.x-this.touchStart.x),n=Math.abs(i.y-this.touchStart.y);e<n?this.resetTouch():t.preventDefault()}},s.prototype.touchEndEventHandler=function(t){if(this.isSwiping())for(var i=this.getTouchCoords(t.changedTouches[0]),e=this.touchStart.x-i.x,n=Math.abs(e),s=Math.ceil(n/this.itemWidth),o=0;o<s;o++)e>0?this.paginate(this.Enums.Direction.RIGHT):e<0&&this.paginate(this.Enums.Direction.LEFT)},s.prototype.getTouchCoords=function(t){var i=t.touches&&t.touches[0];return new n(t.clientX||i&&i.clientX,t.clientY||i&&i.clientY)},s.prototype.resetTouch=function(){this.touchStart={}},s.prototype.isSwiping=function(){return Object.keys(this.touchStart).length>0},s.prototype.addContainer=function(){var i=this;return e("as24-carousel-wrapper",this.element.firstChild)?(this.wrapper=this.element.querySelector(".as24-carousel-wrapper"),void(this.container=this.element.querySelector(".as24-carousel-container"))):(this.wrapper=document.createElement("div"),t("as24-carousel-wrapper",this.wrapper),this.container=document.createElement("div"),t("as24-carousel-container",this.container),[].forEach.call(this.element.children,function(t){var e=t.cloneNode(!0);i.container.appendChild(e)}),this.wrapper.appendChild(this.container),this.element.innerHTML="",void this.element.appendChild(this.wrapper))},s.prototype.removeContainer=function(){var t=this;[].forEach.call(this.container.children,function(i){t.container.removeChild(i)}),this.wrapper.removeChild(this.container),this.element.removeChild(this.wrapper)},s.prototype.addPagination=function(){this.removePagination(),this.createPaginationButton(this.Enums.Direction.LEFT),this.createPaginationButton(this.Enums.Direction.RIGHT),i("hide",this.pagination.right),this.config.mode===this.Enums.Mode.SLIDER&&i("hide",this.pagination.left)},s.prototype.removePagination=function(){var t=this.element.querySelectorAll("[data-direction]");[].forEach.call(t,function(t){t.parentNode.removeChild(t)})},s.prototype.addIndicator=function(){this.removeIndicator(),this.config.indicator&&(this.pagination.indicator=document.createElement("div"),t("as24-pagination-indicator",this.pagination.indicator),this.element.appendChild(this.pagination.indicator),this.updateIndicator())},s.prototype.removeIndicator=function(){var t=this.element.querySelector(".as24-pagination-indicator");null!==t&&this.element.removeChild(t)},s.prototype.createPaginationButton=function(i){var e=this,n=this.pagination[i]=document.createElement("a");t("as24-pagination-button",n),t("hide",n),n.href="#",n.setAttribute("data-direction",i),n.addEventListener("mouseup",function(t){t.stopPropagation(),t.preventDefault(),e.paginate(i)}),n.addEventListener("click",function(t){return t.preventDefault()}),this.element.appendChild(n)},s.prototype.goTo=function(t){this.lastIndex=this.index,t<0&&(t=0),this.index=t,this.update({transition:!1,direction:t>this.lastIndex?this.Enums.Direction.RIGHT:this.Enums.Direction.LEFT})},s.prototype.paginate=function(t){this.lastIndex=this.index,this.index=this.getIndexOf(this.index,t),this.update({direction:t})},s.prototype.calculateEnvironment=function(){this.itemsLength=this.container.children.length,this.itemsVisible=Math.floor(this.getElementWidth()/this.itemWidth),this.totalReach=this.container.offsetWidth-this.getElementWidth(),this.stepLength=this.speed===this.Enums.Speed.SLOW?this.itemsLength-this.itemsVisible:Math.ceil(this.itemsLength/this.itemsVisible),this.config.mode===this.Enums.Mode.SLIDER&&(this.stepLength=this.container.children.length-1),this.stepWidth=this.speed===this.Enums.Speed.SLOW?this.itemWidth:Math.floor(this.getElementWidth()/this.itemWidth)*this.itemWidth},s.prototype.getIndexOf=function(t,i){var e=t;return i===this.Enums.Direction.LEFT?e>0?e-1:this.config.mode===this.Enums.Mode.SLIDER?this.stepLength:0:i===this.Enums.Direction.RIGHT?e<this.stepLength?e+1:this.config.mode===this.Enums.Mode.SLIDER?0:this.stepLength:void 0},s.prototype.update=function(t){this.triggerEvent("as24-carousel.slide",{id:this.element.id,role:this.role,direction:t.direction,index:this.index},!0),this.updateIndicator(),this.config.mode===this.Enums.Mode.DEFAULT?this.updateDefault():this.config.mode===this.Enums.Mode.SLIDER&&this.lastIndex!==this.index&&this.updateSlider(t)},s.prototype.updateDefault=function(){var t=this.index*this.stepWidth;t=t>this.totalReach?this.totalReach:t,t=~t+1,t=this.stepLength>0?t:0;var i=[],e=this.index,n=Math.ceil(this.getElementWidth()/this.itemWidth),s=this.speed===this.Enums.Speed.SLOW?this.index+n:(this.index+1)*n;s=s>this.itemsLength?this.itemsLength:s;for(var o=e;o<s;o++)i.push(o);this.loadImages(i),this.setPaginationButtonsVisibility(),this.move(t,this.container)},s.prototype.updateSlider=function(i){var e=this,n=i.direction,s=i.transition,o=void 0===s||s,r=this.getElementWidth()>this.config.previewBreakpoint&&this.config.preview,h=n===this.Enums.Direction.RIGHT?this.getElementWidth():~this.getElementWidth()+1,a=this.endTime();this.startTime();var c=a>300?300:0;[].forEach.call(this.items(),function(i,n){t("no-transition",i),r===!1&&n!==e.lastIndex&&e.move(h,i),i.style.zIndex=0,i.style.transitionDuration=c+"ms"});var d={previewState:r,previewSize:r?2:1,offset:r?(this.getElementWidth()-this.itemWidth)/2:0,initialPosition:h,direction:n,transition:o};o?setTimeout(function(){this._positionAllItems(d)}.bind(this),10):this._positionAllItems(d)},s.prototype._positionAllItems=function(e){var n=this,s=e.direction,o=e.transition,r=e.offset,h=e.initialPosition,a=e.previewState,c=e.previewSize,d=this.items()[this.index];o&&i("no-transition",d),this.move(r,d);var l,u,p={current:this.index,direction:s,previewSize:c,transition:o,offset:r,side:null},m=this.items()[this.lastIndex];(s===this.Enums.Direction.LEFT||a)&&(a?(p.side=this.Enums.Direction.LEFT,l=this.positionItems(p)):(o&&i("no-transition",m),this.move(this.getElementWidth(),m))),(s===this.Enums.Direction.RIGHT||a)&&(a?(p.side=this.Enums.Direction.RIGHT,u=this.positionItems(p)):(o&&i("no-transition",m),this.move(~this.getElementWidth()+1,m)));var f=a?[].concat(l,[this.index],u):[this.index];a&&[].forEach.call(this.items(),function(i,e){f.indexOf(e)===-1&&(i.style.zIndex=-100,t("no-transition",i),n.move(h,i))}),this.loadImages(f)},s.prototype.positionItems=function(t){for(var e=[],n=t.current,s=t.side,o=t.direction,r=t.previewSize,h=t.transition,a=t.offset,c=this.Enums.Direction.LEFT,d=this.Enums.Direction.RIGHT,l=parseInt(n),u=s===c?d:c,p=1;p<=r;p++){l=this.getIndexOf(l,s),e.push(l),(p<r||p===r&&o===u)&&h&&i("no-transition",this.items()[l]);var m=this.itemWidth*p;m=s===d?a+m:a-m,this.move(m,this.items()[l])}return e},s.prototype.updateIndicator=function(){null!==this.pagination.indicator&&(this.pagination.indicator.innerHTML=this.index+1+"/"+this.itemsLength)},s.prototype.move=function(t,i){i.style.transform="translate3d("+t+"px, 0, 0)",i.style.webkitTransform="translate3d("+t+"px, 0, 0)"},s.prototype.setPaginationButtonsVisibility=function(){0===this.index?t("hide",this.pagination.left):i("hide",this.pagination.left),this.index===this.stepLength||this.stepLength<=0?t("hide",this.pagination.right):i("hide",this.pagination.right)},s.prototype.loadImages=function(t){var i=this;void 0===t&&(t=[]),[].forEach.call(t,function(t){var e=i.container.children[t].querySelectorAll("img");[].forEach.call(e,function(t){var e=t.getAttribute(i.imgSrcDataAttrName);null!==e&&t.setAttribute("src",e)})})},s.prototype.triggerEvent=function(t,i,e,n){void 0===e&&(e=!1),void 0===n&&(n=this.element);var s=new CustomEvent(t,{detail:i,bubbles:e});n.dispatchEvent(s)},s.prototype.resizeHandler=function(){var t=this.getWindowWidth();this.windowWidth!==t&&(this.windowWidth=t,this.redraw(this.imgSrcDataAttrName))},s.prototype.resizeTimeoutHandler=function(){this.resizeHandler()},s.prototype.getWindowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},s.prototype.getElementWidth=function(){var t=getComputedStyle(this.element),i=this.element.offsetWidth;return i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)},s.prototype.startTime=function(){this.time=new Date},s.prototype.endTime=function(){if(null!==this.time){var t=new Date;return t.getTime()-this.time}return 300},s}();!function(){var t=[{name:"gap",value:20,type:"Number"},{name:"mode",value:"default",type:"String"},{name:"preview",value:!1,type:"Boolean"},{name:"previewBreakpoint",value:640,type:"Number"},{name:"indicator",value:!1,type:"Boolean"}],i=function(){var i=this,e={};[].forEach.call(t,function(t){e[t.name]=r(i.getAttribute(t.name),t.value,t.type)}),this.carousel=new s(this,e)},e=function(){this.carousel.attached()},n=function(){this.carousel.detached(),delete this.carousel},o=function(i){var e=this;[].forEach.call(t,function(t){t.name===i&&(e.carousel.config[t.name]=r(e.getAttribute(t.name),t.value,t.type))})},r=function(t,i,e){return void 0===e&&(e="String"),"undefined"!==t&&null!==t?("Number"===e&&(t=parseInt(t)),"Boolean"===e&&(t="true"==t),t):i};try{document.registerElement("as24-carousel",{prototype:Object.assign(Object.create(HTMLElement.prototype,{createdCallback:{value:i},attachedCallback:{value:e},detachedCallback:{value:n},attributeChangedCallback:{value:o}}),{redraw:function(t){this.carousel.redraw(t)},goTo:function(t){this.carousel.goTo(t)},getIndex:function(){return this.carousel.index},getStepLength:function(){return this.carousel.stepLength}})})}catch(t){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-carousel".',t)}}()}();
//# sourceMappingURL=dist/showcar-carousel.min.js.map